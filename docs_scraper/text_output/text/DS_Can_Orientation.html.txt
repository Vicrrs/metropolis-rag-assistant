DeepStream Can Orientation App — DeepStream documentationSkip to main contentBack to topCtrl+KDeepStream documentationDeepStream documentationTable of ContentsDeepStream Getting StartedWelcome to the DeepStream DocumentationMigration GuideInstallationQuickstart GuideDocker ContainersDeepStream SamplesC/C++ Sample Apps Source DetailsPython Sample Apps and Bindings Source DetailsDeepStream Reference Application - deepstream-appDeepStream Reference Application - deepstream-test5 appDeepStream Reference Application - deepstream-nmos appDeepStream Reference Application on GitHubSample Configurations and StreamsImplementing a Custom GStreamer Plugin with OpenCV Integration ExampleTAO toolkit Integration with DeepStreamTAO Toolkit Integration with DeepStreamTutorials and How-to'sDeepStream-3D Custom Apps and Libs TutorialsDeepStream PerformancePerformanceDeepStream AccuracyAccuracy Tuning ToolsDeepStream Custom ModelUsing a Custom Model with DeepStreamDeepStream Key FeaturesDeepStream-3D Sensor Fusion Multi-Modal Application and FrameworkDeepStream-3D Multi-Modal BEVFusion SetupDeepStream-3D Multi-Modal V2XFusion SetupSmart Video RecordIoTOn the Fly Model UpdateNTP Timestamp in DeepStreamAV Sync in DeepStreamDeepStream With REST API SeverDeepStream 3D Action Recognition AppDeepStream 3D Depth Camera AppDeepStream 3D Lidar Inference AppNetworked Media Open Specifications (NMOS) in DeepStreamGst-nvdspostprocess in DeepStreamDeepStream Can Orientation AppDeepStream Application MigrationApplication Migration to DeepStream 7.1 from DeepStream 7.0DeepStream Plugin GuideGStreamer Plugin OverviewMetaData in the DeepStream SDKGst-nvdspreprocess (Alpha)Gst-nvinferGst-nvinferserverGst-nvtrackerGst-nvstreammuxGst-nvstreammux NewGst-nvstreamdemuxGst-nvmultistreamtilerGst-nvdsosdGst-nvdsmetautilsGst-nvdsvideotemplateGst-nvdsaudiotemplateGst-nvvideoconvertGst-nvdewarperGst-nvofGst-nvofvisualGst-nvsegvisualGst-nvvideo4linux2Gst-nvjpegdecGst-nvimagedecGst-nvjpegencGst-nvimageencGst-nvmsgconvGst-nvmsgbrokerGst-nvdsanalyticsGst-nvdsudpsrcGst-nvdsudpsinkGst-nvdspostprocess (Alpha)Gst-nvds3dfilterGst-nvds3dbridgeGst-nvds3dmixerGst-NvDsUcxGst-nvdsxferGst-nvvideotestsrcGst-nvmultiurisrcbinGst-nvurisrcbinDeepStream Troubleshooting and FAQTroubleshootingFrequently Asked QuestionsDeepStream On WSL2DeepStream On WSLFAQ for Deepstream On WSLDeepStream API GuideDeepStream API GuidesDeepStream Service MakerWhat is Deepstream Service MakerService Maker for C/C++ DevelopersService Maker for Python Developers(alpha)Quick Start GuideIntroduction to Flow APIsIntroduction to Pipeline APIsAdvanced FeaturesMigrating Traditional Deepstream Apps to Service Maker Apps in PythonWhat is a Deepstream Service Maker PluginDeepstream LibrariesDeepStream Libraries (Developer Preview)Graph ComposerOverviewPlatformsSupported platformsGetting StartedApplication Development WorkflowCreating an AI ApplicationReference graphsExtension Development WorkflowDeveloping Extensions for DeepStreamDeepStream ComponentsGXF InternalsGXF InternalsGraph eXecution EngineGraph Execution EngineGraph Composer ContainersGraph Composer and GXF ContainersGXF Component InterfacesGXF Component InterfacesGXF Application API'sGXF App C++ APIsGXF App Python APIsGXF Runtime API'sGXF Core C++ APIsGXF Core C APIsGXF Core Python APIsExtension ManualExtensionsCudaExtensionGXF Stream SyncStandardExtensionPython CodeletsNetworkExtensionNvTritonExtSerializationExtensionMultimediaExtensionVideoEncoderExtensionVideoDecoderExtensionBehavior TreesUCX ExtensionHttpExtensionGrpcExtensionTensorRTExtensionNvDs3dProcessingExtNvDsActionRecognitionExtNvDsAnalyticsExtNvDsBaseExtNvDsCloudMsgExtNvDsConverterExtNvDsDewarperExtNvDsInferenceExtNvDsInferenceUtilsExtNvDsInterfaceExtNvDsMuxDemuxExtNvDsOpticalFlowExtNvDsOutputSinkExtNvDsSampleExtNvDsSampleModelsExtNvDsSourceExtNvDsTemplateExtNvDsTrackerExtNvDsTranscodeExtNvDsTritonExtNvDsUcxExtNvDsUdpExtNvDsVisualizationExtToolsRegistryRegistry Command Line InterfaceComposerContainer BuilderGXF Command Line InterfacePipetuner GuideFAQ GuideFAQDeepStream Legal InformationDeepStream End User License AgreementDeepStream FeedbackFeedback formDeepStream...DeepStream Can Orientation App#Thedeepstream-can-orientation-appsample application is provided atapp/sample_apps/deepstream-can-orientation-appfor your reference. This example demonstrates can orientation detection for industrial can position and rotation angles. There are several configurations for raw data input, JPEG input and Basler camera emulation input settings. The image below shows the architecture of this reference app.video template would load custom liblibnvds_vpicanmatch.soto do CV-based VPI template matching for industrial can orientation detection.Getting Started#Prerequisites#Go to the foldersources/apps/sample_apps/deepstream-can-orientation-appPrepare all test sample images and reference images. Run the following command to un-compress can test and reference images into folderdata, and generate raw sample image data files.
Run command$./prepare_sample_data.shNoteIf there is file permission issues, try withsudo.Export DISPLAY environment to correct display. e.g.export DISPLAY=:0.0.For Basler camera emulation test, follow instructions indeepstream-can-orientation-app/READMEto install and build all dependencies. This emulation does not require a physical Basler camera.Users can modify and configure their Basler cameras through Pylon Viewer to create new PFS and then use it in this app.Run DeepStream Can Orientation Examples#Run tests for JPEG files with EGL display:$deepstream-can-orientation-app-cds_can_orientation_jpg.yamlRun tests for GREY raw datafile with EGL display:$deepstream-can-orientation-app-cds_can_orientation_raw.yaml-rdata/test_samples_raw.greyRun tests for performance tests without display. Updateds_can_orientation_raw.yaml.sink:egl_display:falsesync:falsedebug:print_result:fasleRun performance tests:$deepstream-can-orientation-app-cds_can_orientation_raw.yaml-rdata/test_samples_raw.grey-lRun Basler Camera Emulation tests:$deepstream-can-orientation-app-cds_can_orientation_basler_cam.yamlDeepStream Can Orientation App Configuration Specifications#deepstream-can-orientation-app settings#The table below indicates the group settings fords_can_orientation_jpg.yamlandds_can_orientation_raw.yaml.deepstream can orientation application settings#GroupPropertyMeaningType and RangeExamplesourcesource settingsYAML nodesourceuridecodebin uristringuri: multifile:///opt/nvidia/deepstream/deepstream/sources/apps/sample_apps/deepstream-can-orientation-app/data/sample1/test_sample_%2504d.jpgsourceframerateframerate for multifile source and raw format data sourcestringframerate: 10/1sourceframe_settingsRaw frame setting descriptionYAML nodeframe_settings:format: GREY
width: 870
height: 1200source.frame_settingsformatcolor format, choose from [GREY, RGBA]String:  [GREY, RGBA]format: GREYsource.frame_settingswidthwidth of input raw frameInteger: >0width: 870source.frame_settingsheightheight of input raw frameInteger: >0height: 1200sourcecameraBasler camera settingsYAML nodecamera:device_serial_number: 0815-0000
pfs_path: basler_cam_emulation_0815-0000.pfs
width: 870
height: 1200source.cameradevice_serial_numberBasler camera serial numberStringdevice_serial_number: 0815-0000source.camerapfs_pathBasler PFS setting file pathStringpfs_path: basler_cam_emulation_0815-0000.pfssource.camerawidthBasler camera capture image widthInteger: >0width: 870source.cameraheightBasler camera capture image heightInteger: >0height: 1200video_templatedeepstream video template plugin settingsYAML nodevideo_templatecustomlib_nameIndicate custom-lib location for video template to loadStringcustomlib_name: /opt/nvidia/deepstream/deepstream/lib/libnvds_vpicanmatch.sovideo_templatecustomlib_propsIndicate the configuration settings for the custom-libStringcustomlib_props: config-file:config_video_template_can_match.yamlsinksink settingsYAML nodesink:egl_display: truesinkegl_displayIndicate whether enable EGL displayboolegl_display: truesinksyncIndicate whether do snchronization on timestampboolsync: truedebugdebug settingsYAML nodedebugprint_resultIndicate whether print orientation resultboolprint_result: trueCustom liblibnvds_vpicanmatch.soSettings for Can Template Matching#The table below indicates the group settings forconfig_video_template_can_match.yaml.deepstream can orientation application settings#PropertyMeaningType and RangeExampleradiusIndicate radius of the can, unit in cmFloatradius: 3.3distanceIndicate distance from camera to can, unit in cmFloatdistance: 12.7centerIndicate center of the can in input raw image normalized by widthFloatcenter: 0.5can_widthIndicate width of the can in input raw image normalized by widthFloatcan_width: 1.0input_widthIndicate width of input raw image, It should be the input image widthUint32input_width: 870input_heightIndicate height of input raw image, It should be the input image heightUint32input_height: 1200crop_widthIndicate width of dewarped inference image to be used to match with reference imageUint32crop_width: 500target_xIndicate target center in reference image in pixelsUint32target_x: 250ref_imageSpecify reference image paramatersYAML noderef_image.perimeterIndicate can circumference in reference image in pixelsUint32ref_image:perimeter: 1689ref_image.image_pathIndicate refernece image path, must be in color format GREYref_image:image_path: data/reference_sample.greyref_image.image_formatIndicate refernece image color format, only GREY supported in this versionString: fourccref_image:image_format: GREYref_image.image_widthIndicate refernece image widthUint32ref_image:image_width: 2508ref_image.image_heightIndicate refernece image heightUint32ref_image:image_height: 625Build application From Source#Go to the foldersources/apps/sample_apps/deepstream-can-orientation-app.Run the following commands:$make$makeinstallpreviousGst-nvdspostprocess in DeepStreamnextApplication Migration to DeepStream 7.1 from DeepStream 7.0On this pageGetting StartedPrerequisitesRun DeepStream Can Orientation ExamplesDeepStream Can Orientation App Configuration Specificationsdeepstream-can-orientation-app settingsCustom liblibnvds_vpicanmatch.soSettings for Can Template MatchingBuild application From SourcePrivacy Policy|Manage My Privacy|Do Not Sell or Share My Data|Terms of Service|Accessibility|Corporate Policies|Product Security|ContactCopyright © 2024-2025, NVIDIA Corporation.Last updated on Jan 13, 2025.